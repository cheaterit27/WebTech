# HTML

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252" />
    <title>Lab 1</title>
    <style>
      #box {
        width: 50%;
        height: 75px;
        margin: 1em auto;
        padding: 1.5em;
        font: 1.5em Verdana, Helvetica, sans-serif bold;
        text-align: center;
      }

      .section {
        text-align: center;
      }
    </style>
  </head>
  <body>
    <div class="section">
      <form id="our_form">
        <input type="text" name="foo" />
        <input type="text" name="bar" />
        <button type="submit">Click Me</button>
        <button id="alert">Or Click Me!</button>
      </form>
      <div>
        <span>Response: </span>
        <span id="response"></span>
      </div>
    </div>

    <hr />

    <div class="section">
      <button id="button-1">Button 1</button>
      <button id="button-2">Button 2</button>
      <div id="box" style="background-color: red">
        <span>I am a box!</span>
      </div>
    </div>

    <hr />

    <div class="section">
      <button class="tags-button" id="bold-btn">&lt;b&gt; tags</button>
      <button class="tags-button" id="italic-btn">&lt;i&gt; tags</button>
      <button class="tags-button" id="underline-btn">&lt;u&gt; tags</button>
      <div id="tags">
        <b>This is inside a bold tag</b>, <u>and</u>
        <i>this is not</i>, but <b><i>this</i></b> is inside
        <i>two tags <u>at once</u></i>!
      </div>
    </div>

    <hr />

    <div class="section">
      <canvas width="600" height="300" id="canvas"></canvas>
      <br />
      <button id="clearCanvas">Clear Canvas</button>
    </div>

    <script src="handlers.js" type="text/javascript"></script>
    <script src="attachBindings.js" type="text/javascript"></script>
  </body>
</html>




# AttachBinding.js


document.getElementById('our_form').addEventListener("submit", onFormSubmit);
document.getElementById("alert").addEventListener("click", formAlert);
document.getElementById("button-1").addEventListener("click", toggleBox);
document.getElementById("button-2").addEventListener("click", rotateColors);

Array.prototype.map.call(
  document.getElementsByClassName("tags-button"),
  function (el) {
    el.addEventListener("click", onTagButtonClick);
  }
);

document.getElementById("canvas").addEventListener("click", drawBox);
initCanvas();

document.getElementById("clearCanvas").addEventListener("click", function (e) {
  initCanvas();
});



# handlers.js


function toggleStyle(el, styleName, value) {
  if (el[styleName]) {
    el[styleName] = '';
  } else {
    el[styleName] = value;
  }
}

function onFormSubmit(e) {
  var form = e.target;ng
  e.preventDefault();

  var first = document.getElementsByName("foo");
  var second = document.getElementsByName("bar");

  var a1 = first[0].value;
  var b1 = second[0].value;
  document.getElementById("response").textContent = a1 + " " + b1;
}

function formAlert(e) {
  var first = document.getElementsByName("foo");
  var second = document.getElementsByName("bar");

  var a1 = first[0].value;
  var b1 = second[0].value;
  alert("foo: " + a1 + ", bar: " + b1);
}

function toggleBox(e) {
  var box = document.getElementById("box");
  toggleStyle(box.style, 'display', 'none');
}

function rotateColors(e) {
  var box = document.getElementById("box");
  if (box.style.backgroundColor === 'red') {
    box.style.backgroundColor = 'blue';
  } else if (box.style.backgroundColor === 'blue') {
    box.style.backgroundColor = 'green';
  } else if (box.style.backgroundColor === 'green') {
    box.style.backgroundColor = 'red';
  } else {
    box.style.backgroundColor = 'red';
  }
}

function onTagButtonClick(event) {
  var element = event.target;
  var tagsEl = document.getElementById("tags");
  var children = tagsEl.children;

  if (element.id === 'bold-btn') {
    for (var i = 0; i < children.length; i++) {
      if (children[i].localName === 'b') {
        toggleStyle(children[i].style, 'color', 'red');
      }
    }
  } else if (element.id === 'italic-btn') {
    for (var i = 0; i < children.length; i++) {
      if (children[i].localName === 'i') {
        toggleStyle(children[i].style, 'backgroundColor', 'gray');
      }
    }
  } else if (element.id === 'underline-btn') {
    for (var i = 0; i < children.length; i++) {
      if (children[i].localName === 'u') {
        toggleStyle(children[i].style, 'border', '1px solid blue');
      }
    }
  }
}

function initCanvas() {
  var c = document.getElementById("canvas");
  var ctx = c.getContext("2d");
  ctx.fillStyle = '#ddd';
  ctx.clearRect(0, 0, 600, 300);
  ctx.fillRect(0, 0, 600, 300);
}

function randomColor() {
  var r = (Math.random() * 256 | 0).toString(16).padStart(2, '0');
  var g = (Math.random() * 256 | 0).toString(16).padStart(2, '0');
  var b = (Math.random() * 256 | 0).toString(16).padStart(2, '0');
  return "#" + r + g + b;
}

function drawBox(e) {
  var c = document.getElementById("canvas");
  var ctx = c.getContext("2d");

  if (!e.hasOwnProperty('offsetX')) {
    e.offsetX = e.layerX - e.currentTarget.offsetLeft;
    e.offsetY = e.layerY - e.currentTarget.offsetTop;
  }

  var mouseX = e.offsetX;
  var mouseY = e.offsetY;

  var width = Math.floor(Math.random() * 150) + 50;
  var height = Math.floor(Math.random() * 50) + 50;

  ctx.fillStyle = randomColor();
  ctx.fillRect(mouseX - width / 2, mouseY - height / 2, width, height);
}
